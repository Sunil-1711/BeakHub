INSERT INTO public.dashboard_version (dashboard_id, parent_version, restored_from, "version", created, created_by, message, "data", version_belongs_to) VALUES(5880, 13, 0, 14, '2023-11-07 10:11:41.000', 597, '', '{"id": 5880, "uid": "AZhCR1yVk", "tags": [], "time": {"to": "now", "from": "now-30d"}, "links": [], "style": "dark", "title": "Closed Vulnerability Details - Multiple", "gnetId": null, "panels": [{"id": 18, "type": "table", "title": "Vulnerability Details", "gridPos": {"h": 16, "w": 24, "x": 0, "y": 0}, "options": {"sortBy": [{"desc": true, "displayName": "CVSS Score"}], "showHeader": true, "enablePagination": false, "showGlobalSearch": false}, "targets": [{"hide": false, "alias": "", "query": "ticket_status:closed && companyid:$companyid && _index:soc-vul-$tenantid-*", "refId": "B", "metrics": [{"id": "1", "type": "raw_data", "settings": {"size": "25000"}}], "timeField": "occured", "bucketAggs": [], "definedKeys": "CVE_ID,Hostname,deviceip,PRODUCT,vul_severity,SCORE,DESCRIPTION,occured,PORT,GROUPNAME,deviceid,SEVERITYVALUE,resolveddate,companyname"}], "timeFrom": null, "bgColorOn": false, "datasource": "Beak Vulnerability", "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "custom": {"align": "left", "tooltip": false, "filterable": true, "disableSort": false, "displayMode": "auto", "disableResize": false, "imageForColumn": "", "imageForHeader": "", "openLinkNewTab": false, "disableSelectAll": false, "enableMultiSelect": false, "enableRadioSelect": false, "renderHTMLContent": false, "enableLabelForImage": false, "enableBackgroundColorForCells": false}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}}, "overrides": [{"matcher": {"id": "byName", "options": "occured"}, "properties": [{"id": "unit", "value": "dateTimeAsLocal"}, {"id": "custom.tooltip", "value": false}, {"id": "custom.minWidth", "value": 200}]}, {"matcher": {"id": "byName", "options": "CVE_ID"}, "properties": [{"id": "links", "value": [{"url": "${__data.fields.NVD_URL}", "title": "", "targetBlank": true}]}, {"id": "custom.freezeColumn", "value": "left"}]}, {"matcher": {"id": "byName", "options": "VENDOR"}, "properties": [{"id": "links", "value": [{"url": "${__data.fields.MICROSOFT_URL}", "title": "", "targetBlank": true}]}]}, {"matcher": {"id": "byName", "options": "SCORE"}, "properties": [{"id": "custom.align", "value": "center"}]}, {"matcher": {"id": "byName", "options": "PRODUCT"}, "properties": [{"id": "custom.tooltip", "value": true}]}, {"matcher": {"id": "byName", "options": "DESCRIPTION"}, "properties": [{"id": "custom.tooltip", "value": true}]}, {"matcher": {"id": "byName", "options": "Vulnerability ID"}, "properties": [{"id": "custom.tooltip", "value": false}]}, {"matcher": {"id": "byName", "options": "SEVERITYVALUE"}, "properties": [{"id": "mappings", "value": [{"type": "value", "options": {"0": {"text": "/report-images/companylogos/Critical.png?&label=High", "color": "semi-dark-red", "index": 0}, "1": {"text": "/report-images/companylogos/Critical.png?&label=High", "color": "semi-dark-red", "index": 1}, "2": {"text": "/report-images/companylogos/Major.png?&label=Medium", "color": "semi-dark-yellow", "index": 2}, "3": {"text": "/report-images/companylogos/Minor.png?&label=Low", "color": "light-blue", "index": 3}}}]}, {"id": "custom.displayMode", "value": "image"}, {"id": "custom.enableLabelForImage", "value": true}]}, {"matcher": {"id": "byName", "options": "resolved_at"}, "properties": [{"id": "unit", "value": "dateTimeAsLocal"}, {"id": "custom.minWidth", "value": 200}]}, {"matcher": {"id": "byName", "options": "package.condition"}, "properties": [{"id": "custom.tooltip", "value": true}]}, {"matcher": {"id": "byName", "options": "Hostname"}, "properties": [{"id": "links", "value": [{"url": "/insights/company?&name=company&redirect_to_asset=true&assetid=${__data.fields.deviceid}\\n\\n\\r\\n", "title": ""}]}, {"id": "custom.freezeColumn", "value": "left"}]}, {"matcher": {"id": "byName", "options": "resolveddate"}, "properties": [{"id": "unit", "value": "dateTimeAsLocal"}]}, {"matcher": {"id": "byName", "options": "Resolved At"}, "properties": [{"id": "custom.width", "value": 209}]}]}, "pluginVersion": "8.1.2", "transformations": [{"id": "organize", "options": {"indexByName": {"_id": 12, "PORT": 8, "sort": 17, "SCORE": 9, "_type": 14, "CVE_ID": 0, "_index": 13, "PRODUCT": 3, "occured": 7, "Hostname": 1, "deviceid": 15, "deviceip": 10, "GROUPNAME": 11, "highlight": 16, "DESCRIPTION": 6, "companyname": 2, "resolveddate": 18, "vul_severity": 4, "SEVERITYVALUE": 5}, "renameByName": {"CVEs": "Vulnerability ID", "PORT": "Port", "Port": "Port", "SCORE": "CVSS Score", "TITLE": "Title", "CVE_ID": "Vulnerability ID", "Impact": "Impact", "VENDOR": "Vendor", "NVD_URL": "id", "PRODUCT": "Product", "occured": "Occurred On", "Hostname": "Host Name", "SEVERITY": "Severity", "SOLUTION": "Solution", "Solution": "Solution", "asset_id": "Asset ID", "deviceid": "id", "deviceip": "IP Address", "severity": "Severity", "ticketid": "Ticket ID", "CONDITION": "Condition", "DESCRIPTION": "Description", "companyname": "Client Name", "cw_ticketid": "CW Manage ID", "resolved_at": "Resolved On", "resolveddate": "Resolved At", "soc_asset_id": "SOC Asset ID", "vul_severity": "Impact", "CWE_REFERENCE": "CWE ID", "MICROSOFT_URL": "id", "Port_Protocol": "Port Protocol", "SEVERITYVALUE": "Impact", "ticket_status": "Ticket Status", "CVE_ID.keyword": "Vulnerability ID", "Impact.keyword": "Impact", "SpecificResult": "Specific Result", "vulnerabilityid": "Vulnerability ID", "Hostname.keyword": "Host Name", "SEVERITY.keyword": "Severity", "SOLUTION.keyword": "Solution", "deviceid.keyword": "Asset ID", "deviceip.keyword": "IP", "ticketid.keyword": "Ticket ID", "package.condition": "Condition", "Affected_Software_OS": "Affected Software", "connectwiseTicketURL": "id", "Found_on_previous_scan": "Previously Occured"}, "excludeByName": {"_id": true, "CVEs": true, "NAME": true, "PART": true, "PORT": false, "Port": true, "TAGS": true, "sort": true, "type": true, "Count": true, "OTHER": true, "PATCH": true, "TITLE": true, "_type": true, "score": true, "CVE_ID": false, "CWE_ID": true, "Impact": true, "REMOVE": true, "VENDOR": true, "_index": true, "doc_id": true, "job_id": true, "source": true, "ticket": true, "userid": true, "EDITION": true, "PRODUCT": false, "SUMMARY": true, "Summary": true, "UPDATED": true, "UPGRADE": true, "VERSION": true, "jobname": true, "rule.id": true, "Hostname": false, "SEVERITY": true, "SOLUTION": true, "asset_id": true, "assetids": true, "deviceid": false, "deviceip": true, "isactive": true, "scantype": true, "tenantid": true, "ticketid": true, "CONDITION": true, "CVE_title": true, "GROUPNAME": true, "PATCH_URL": true, "PUBLISHED": true, "TARGET_HW": true, "TARGET_SW": true, "clientids": true, "companyid": true, "highlight": true, "rule.mail": true, "Cvedetails": true, "SW_EDITION": true, "assignedTo": true, "devicename": true, "job_status": true, "rule.level": true, "ticket_key": true, "ACCEPT_RISK": true, "DESCRIPTION": false, "cw_ticketid": true, "incident_id": true, "occured_gmt": true, "rule.groups": true, "scan_job_id": true, "ATTACKVECTOR": true, "company_name": true, "incidentname": true, "package.name": true, "package_name": true, "resolveddate": false, "scanRunJobId": true, "soc_asset_id": true, "solutiontype": true, "vul_category": true, "vul_severity": true, "CWE_REFERENCE": true, "LAST_MODIFIED": true, "MICROSOFT_URL": true, "Port_Protocol": true, "REFERENCE_URL": true, "ccns_severity": true, "cwe_reference": true, "publishedDate": true, "ticket_status": true, "FALSE_POSITIVE": true, "MASTER_PRODUCT": true, "SpecificResult": true, "duration_float": true, "history_status": true, "package.source": true, "device_group_id": true, "incident_status": true, "package.version": true, "package_version": true, "receivergroupid": true, "remediationtype": true, "rule.firedtimes": true, "scan_job_run_id": true, "vulnerabilityid": true, "PATCH_DETAILS.id": true, "lastModifiedDate": true, "remediation.PART": true, "remediation.TAGS": true, "rule.description": true, "NVD_METADATA_YEAR": true, "PATCH_DETAILS.URL": true, "PATCH_DETAILS.url": true, "device_group_name": true, "group_description": true, "incident_severity": true, "package.condition": false, "remediation.CVEID": true, "remediation.OTHER": true, "remediation.PATCH": true, "remediation.SCORE": true, "PATCH_DETAILS.TYPE": true, "external_companyid": true, "remediation.CVE_ID": true, "remediation.CWE_ID": true, "remediation.REMOVE": true, "remediation.VENDOR": true, "PATCH_DETAILS.TITLE": true, "UPGRADE_DETAILS.url": true, "remediation.EDITION": true, "remediation.PRODUCT": true, "remediation.UPDATED": true, "remediation.UPGRADE": true, "remediation.VERSION": true, "Affected_Software_OS": true, "package.architecture": true, "remediation.SEVERITY": true, "remediation.SOLUTION": true, "remediation.severity": true, "ACCEPT_RISK_TILL_DATE": true, "package.generated_cpe": true, "remediation.PUBLISHED": true, "remediation.TARGET_HW": true, "remediation.TARGET_SW": true, "remediation.cw_status": true, "remediation.groupname": true, "Found_on_previous_scan": true, "PATCH_DETAILS.PATCH_ID": true, "remediation.SW_EDITION": true, "remediation.base_score": true, "remediation.groupnotes": true, "UPGRADE_DETAILS.version": true, "remediation.ACCEPT_RISK": true, "remediation.DESCRIPTION": true, "remediation.ATTACKVECTOR": true, "remediation.LAST_MODIFIED": true, "remediation.REFERENCE_URL": true, "remediation.Ticketgroupid": true, "remediation.publishedDate": true, "remediation.groupdecription": true, "remediation.lastModifiedDate": true, "remediation.GROUP_DESCRIPTION": true, "remediation.NVD_METADATA_YEAR": true, "remediation.PATCH_DETAILS.url": true, "remediation.cve_details.CVEID": true, "remediation.nvd_cve_unique_id": true, "PATCH_DETAILS.RESTART_REQUIRED": true, "remediation.cve_details.VENDOR": true, "vulnerability_details.severity": true, "remediation.UPGRADE_DETAILS.url": true, "remediation.cve_details.PRODUCT": true, "remediation.cve_details.VERSION": true, "vulnerability_details.base_score": true, "remediation.ACCEPT_RISK_TILL_DATE": true, "vulnerability_details.impact_score": true, "vulnerability_details.package.name": true, "remediation.UPGRADE_DETAILS.version": true, "remediation.cve_details.DESCRIPTION": true, "vulnerability_details.exploit_score": true, "remediation.cve_details.LAST_MODIFIED": true, "remediation.cve_details.REFERENCE_URL": true, "remediation.cve_details.vulnerability_id": true, "vulnerability_details.default_solution_id": true, "vulnerability_details.cvss.cvss2.base_score": true, "remediation.cve_details.ticket_group_item_id": true, "vulnerability_details.cvss.cvss2.vector.scope": true, "vulnerability_details.cvss.cvss2.vector.availability": true, "vulnerability_details.cvss.cvss2.vector.attack_vector": true, "vulnerability_details.cvss.cvss2.vector.authentication": true, "vulnerability_details.cvss.cvss2.vector.integrity_impact": true, "vulnerability_details.cvss.cvss2.vector.user_interaction": true, "vulnerability_details.cvss.cvss2.vector.access_complexity": true, "vulnerability_details.cvss.cvss2.vector.privileges_required": true, "vulnerability_details.cvss.cvss2.vector.confidentiality_impact": true}}}, {"id": "organize", "options": {}}], "hideTimeOverride": true, "showTableColumnChanger": true}], "refresh": "", "version": 14, "editable": true, "timezone": "", "iteration": 1699351728546, "templating": {"list": [{"hide": 0, "name": "roleid", "sort": 3, "type": "query", "error": null, "label": null, "multi": false, "query": "select distinct roleid from roles", "regex": "", "current": {"text": "1376", "value": "1376", "selected": false}, "options": [], "refresh": 1, "allValue": null, "datasource": "Beak DB", "definition": "select distinct roleid from roles", "includeAll": false, "description": null, "skipUrlSync": false}, {"hide": 0, "name": "userid", "sort": 0, "type": "query", "error": null, "label": null, "multi": false, "query": "select distinct userid from userlogin where isactive=true", "regex": "", "current": {"text": "2701", "value": "2701", "selected": false}, "options": [], "refresh": 1, "allValue": null, "datasource": "Beak DB", "definition": "select distinct userid from userlogin where isactive=true", "includeAll": false, "description": null, "skipUrlSync": false}, {"hide": 0, "name": "clientid", "sort": 0, "type": "query", "error": null, "label": null, "multi": false, "query": "select companyid from usercompany where userid in ($userid) union select 0", "regex": "", "current": {"text": "All", "value": "$__all", "selected": false}, "options": [], "refresh": 1, "allValue": null, "datasource": "Beak DB", "definition": "select companyid from usercompany where userid in ($userid) union select 0", "includeAll": true, "description": null, "skipUrlSync": false}, {"hide": 0, "name": "hasmyclient", "type": "custom", "error": null, "label": null, "multi": false, "query": "1,2", "current": {"text": "2", "value": "2", "selected": false}, "options": [{"text": "1", "value": "1", "selected": false}, {"text": "2", "value": "2", "selected": true}], "allValue": null, "includeAll": false, "queryValue": "", "description": null, "skipUrlSync": false}, {"hide": 0, "name": "isallcompanies", "sort": 0, "type": "query", "error": null, "label": null, "multi": false, "query": "select  case when isallcompanies = true\\n  then ''1''\\n  else   isallcompanies :: varchar end   from roles where roleid = $roleid", "regex": "", "current": {"text": "1", "value": "1", "selected": false}, "options": [], "refresh": 1, "allValue": null, "datasource": "Beak DB", "definition": "select  case when isallcompanies = true\\n  then ''1''\\n  else   isallcompanies :: varchar end   from roles where roleid = $roleid", "includeAll": false, "description": null, "skipUrlSync": false}, {"hide": 0, "name": "companyid", "sort": 3, "type": "query", "error": null, "label": null, "multi": true, "query": "select companyid from companydetails where tenantid in ($tenantid) and isrestricted=false and isdefault=false and ($isallcompanies = ''1'' or companyid in (select \\"companydetails_id\\" from companydetailsroles where roles_id=$roleid) or ($hasexcludeclients=''1'' and companyid in (select companyid from companydetails where companyid not in ($excludedclients) ))) and  ($hasmyclient = ''2''  or companyid::varchar in ($clientid)) and  isactive=true union select 0 union select companyid from companydetails where companyid in ($resclient)", "regex": "", "current": {"text": ["All"], "value": ["$__all"], "selected": true}, "options": [], "refresh": 1, "allValue": null, "datasource": "Beak DB", "definition": "select companyid from companydetails where tenantid in ($tenantid) and isrestricted=false and isdefault=false and ($isallcompanies = ''1'' or companyid in (select \\"companydetails_id\\" from companydetailsroles where roles_id=$roleid) or ($hasexcludeclients=''1'' and companyid in (select companyid from companydetails where companyid not in ($excludedclients) ))) and  ($hasmyclient = ''2''  or companyid::varchar in ($clientid)) and  isactive=true union select 0 union select companyid from companydetails where companyid in ($resclient)", "includeAll": true, "description": null, "skipUrlSync": false}, {"hide": 0, "name": "assetid", "sort": 3, "type": "query", "error": null, "label": null, "multi": false, "query": "select id from devicedetails  where companyid in ($companyid)", "regex": "", "current": {"text": "All", "value": "$__all", "selected": false}, "options": [], "refresh": 1, "allValue": null, "datasource": "Beak DB", "definition": "select id from devicedetails  where companyid in ($companyid)", "includeAll": true, "description": null, "skipUrlSync": false}, {"hide": 0, "name": "resclient", "type": "custom", "error": null, "label": null, "multi": true, "query": "0", "current": {"text": ["0"], "value": ["0"], "selected": false}, "options": [{"text": "0", "value": "0", "selected": true}], "allValue": null, "includeAll": false, "description": null, "skipUrlSync": false}, {"hide": 0, "name": "tenantid", "sort": 0, "type": "query", "error": null, "label": null, "multi": false, "query": "select tenantid from tenantdetails", "regex": "", "current": {"text": "1", "value": "1", "selected": false}, "options": [], "refresh": 1, "allValue": null, "datasource": "Tenant DB", "definition": "select tenantid from tenantdetails", "includeAll": false, "description": null, "skipUrlSync": false}, {"hide": 0, "name": "excludedclients", "sort": 0, "type": "query", "error": null, "label": null, "multi": false, "query": "select  unnest(\\"excluded_companies\\") from roles where roleid=$roleid union select 0", "regex": "", "current": {"text": "All", "value": "$__all", "selected": true}, "options": [], "refresh": 1, "allValue": null, "datasource": "Beak DB", "definition": "select  unnest(\\"excluded_companies\\") from roles where roleid=$roleid union select 0", "includeAll": true, "description": null, "skipUrlSync": false}, {"hide": 0, "name": "hasexcludeclients", "sort": 0, "type": "query", "error": null, "label": null, "multi": false, "query": "select  case when \\"has_excluded_companies\\"= true and  \\"isallcompanies\\"= false\\n  then ''1''\\n  else  ''0'' end   from roles where roleid = $roleid", "regex": "", "current": {"text": "0", "value": "0", "selected": false}, "options": [], "refresh": 1, "allValue": null, "datasource": "Beak DB", "definition": "select  case when \\"has_excluded_companies\\"= true and  \\"isallcompanies\\"= false\\n  then ''1''\\n  else  ''0'' end   from roles where roleid = $roleid", "includeAll": false, "description": null, "skipUrlSync": false}]}, "timepicker": {"hidden": false}, "annotations": {"list": [{"hide": true, "name": "Annotations & Alerts", "type": "dashboard", "enable": true, "target": {"tags": [], "type": "dashboard", "limit": 100, "matchAny": false}, "builtIn": 1, "iconColor": "rgba(0, 211, 255, 1)", "datasource": "-- Grafana --"}]}, "refreshTime": {"hidden": false}, "graphTooltip": 0, "schemaVersion": 30, "disableResetButton": true, "timepickerForDashboardFilter": {"hidden": true}}', 1);

INSERT INTO public.dashboard_version (dashboard_id, parent_version, restored_from, "version", created, created_by, message, "data", version_belongs_to) VALUES(6752, 4, 0, 5, '2023-11-07 10:13:56.000', 529, '', '{"id": 6752, "uid": "n7QcdKWIk", "tags": [], "time": {"to": "now", "from": "now-5y"}, "links": [], "style": "dark", "title": "Employee Details - No Assets Mapped Internal", "gnetId": null, "panels": [{"id": 2, "type": "table", "title": "Employees Details", "gridPos": {"h": 17, "w": 24, "x": 0, "y": 0}, "options": {"sortBy": [{"desc": false, "displayName": "Employee Status"}], "showHeader": true, "enablePagination": false, "showGlobalSearch": false}, "targets": [{"alias": "", "query": "companyid:$companyid && _index:employeedetails-$tenantid && ${filter:raw} && _exists_:employeestatus && !(externalid.keyword:$noassetsemployee)", "refId": "A", "metrics": [{"id": "1", "type": "raw_data", "settings": {"size": "10000"}}], "queryType": "randomWalk", "timeField": "timestamp", "bucketAggs": [], "definedKeys": "externalid,additionalinfo.state,additionalinfo.employeeentity,additionalinfo.unit,designation,email,employeename,employeestatus,employeetype,exitdate,gender,location,reportingtoemail,companyid", "innerJSONKeys": ""}], "timeFrom": "5y", "bgColorOn": false, "datasource": "Beak - Employees", "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "custom": {"align": "auto", "tooltip": false, "filterable": true, "disableSort": false, "displayMode": "auto", "disableResize": false, "imageForColumn": "", "imageForHeader": "", "openLinkNewTab": false, "disableSelectAll": false, "enableMultiSelect": false, "enableRadioSelect": false, "renderHTMLContent": false, "enableLabelForImage": false, "enableBackgroundColorForCells": false}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}}, "overrides": [{"matcher": {"id": "byName", "options": "dateofconfirmation"}, "properties": [{"id": "unit", "value": "time:MM/DD/YYYY"}]}, {"matcher": {"id": "byName", "options": "datofjoining"}, "properties": [{"id": "unit", "value": "time:MM/DD/YYYY"}]}, {"matcher": {"id": "byName", "options": "employeename"}, "properties": [{"id": "links", "value": [{"url": "/reports/insights/employees?&name=employees&isdetail=true&companyid=${__data.fields.companyid}&employeeid=${__data.fields.externalid}﻿", "title": ""}]}]}]}, "pluginVersion": "8.1.2", "transformations": [{"id": "organize", "options": {"indexByName": {}, "renameByName": {"email": "Email", "gender": "Gender", "exitdate": "Exit Date", "location": "Location", "companyid": "id", "department": "Department", "externalid": "id", "designation": "Designation", "employeename": "Employee Name", "employeetype": "Employee Type", "dateofjoining": "Date Of Joining", "ï»¿empcode": "Employee Code", "employeestatus": "Employee Status", "reportingtoemail": "Reporting To ", "dateofconfirmation": "Date Of Confirmation", "additionalinfo.unit": "Unit", "additionalinfo.state": "State", "additionalinfo.employeeentity": "Company Name", "additionalinfo.totalyearofexperience": "Total Year Of Experience"}, "excludeByName": {"_id": true, "sort": true, "unit": true, "_type": true, "empid": true, "state": true, "_index": true, "source": true, "tenantid": true, "companyid": false, "highlight": true, "timestamp": true, "datofjoining": true, "employeeentity": true, "totalyearofexp": true, "dateofconfirmation": true, "employeeintegrator": true}}}, {"id": "organize", "options": {"indexByName": {"Unit": 6, "unit": 20, "Email": 2, "State": 13, "empid": 0, "state": 18, "Gender": 9, "Location": 7, "Exit Date": 15, "Department": 4, "Designation": 3, "External ID": 10, "datofjoining": 21, "Employee Name": 1, "Employee Type": 11, "Reporting To ": 5, "employeeentity": 17, "totalyearofexp": 19, "Employee Entity": 8, "Employee Status": 12, "Date Of Confirmation": 14, "additionalinfo.totalyearofexp": 16}, "renameByName": {"empid": "Employee ID", "datofjoining": "Date Of Joining"}, "excludeByName": {"unit": true, "State": true, "empid": false, "state": true, "Exit Date": true, "Department": true, "External ID": true, "datofjoining": false, "employeeentity": true, "totalyearofexp": true, "Employee Status": false, "additionalinfo.totalyearofexp": true}}}, {"id": "organize", "options": {"indexByName": {"id": 10, "Unit": 5, "Email": 2, "Gender": 6, "Location": 8, "Designation": 3, "Company Name": 1, "Employee Name": 0, "Employee Type": 7, "Reporting To ": 4, "Employee Status": 9}, "renameByName": {}, "excludeByName": {}}}], "hideTimeOverride": true, "showTableColumnChanger": true}], "refresh": false, "version": 5, "editable": true, "timezone": "", "iteration": 1699349927142, "templating": {"list": [{"hide": 0, "name": "filter", "type": "custom", "error": null, "label": null, "multi": false, "query": "*", "current": {"text": "*", "value": "*", "selected": false}, "options": [{"text": "*", "value": "*", "selected": true}], "allValue": null, "includeAll": false, "description": null, "skipUrlSync": false}, {"hide": 0, "name": "roleid", "sort": 0, "type": "query", "error": null, "label": null, "multi": false, "query": "select distinct roleid from roles", "regex": "", "current": {"text": "1525", "value": "1525", "selected": false}, "options": [], "refresh": 1, "allValue": null, "datasource": "Beak DB", "definition": "select distinct roleid from roles", "includeAll": false, "description": null, "skipUrlSync": false}, {"hide": 0, "name": "userid", "sort": 0, "type": "query", "error": null, "label": null, "multi": false, "query": "select distinct userid from userlogin where isactive=true", "regex": "", "current": {"text": "2701", "value": "2701", "selected": false}, "options": [], "refresh": 1, "allValue": null, "datasource": "Beak DB", "definition": "select distinct userid from userlogin where isactive=true", "includeAll": false, "description": null, "skipUrlSync": false}, {"hide": 0, "name": "clientid", "sort": 0, "type": "query", "error": null, "label": null, "multi": false, "query": "select companyid from usercompany where userid in ($userid) union select 0", "regex": "", "current": {"text": "All", "value": "$__all", "selected": false}, "options": [], "refresh": 1, "allValue": null, "datasource": "Beak DB", "definition": "select companyid from usercompany where userid in ($userid) union select 0", "includeAll": true, "description": null, "skipUrlSync": false}, {"hide": 0, "name": "hasmyclient", "type": "custom", "error": null, "label": null, "multi": false, "query": "1,2", "current": {"text": "2", "value": "2", "selected": false}, "options": [{"text": "1", "value": "1", "selected": false}, {"text": "2", "value": "2", "selected": true}], "allValue": null, "includeAll": false, "queryValue": "", "description": null, "skipUrlSync": false}, {"hide": 0, "name": "isallcompanies", "sort": 0, "type": "query", "error": null, "label": null, "multi": false, "query": "select  case when isallcompanies = true\\n  then ''1''\\n  else   isallcompanies :: varchar end   from roles where roleid = $roleid", "regex": "", "current": {"text": "1", "value": "1", "selected": false}, "options": [], "refresh": 1, "allValue": null, "datasource": "Beak DB", "definition": "select  case when isallcompanies = true\\n  then ''1''\\n  else   isallcompanies :: varchar end   from roles where roleid = $roleid", "includeAll": false, "description": null, "skipUrlSync": false}, {"hide": 0, "name": "resclient", "type": "custom", "error": null, "label": null, "multi": false, "query": "0", "current": {"text": "0", "value": "0", "selected": false}, "options": [{"text": "0", "value": "0", "selected": true}], "allValue": null, "includeAll": false, "description": null, "skipUrlSync": false}, {"hide": 0, "name": "tenantid", "sort": 0, "type": "query", "error": null, "label": null, "multi": false, "query": "select tenantid from tenantdetails", "regex": "", "current": {"text": "1", "value": "1", "selected": false}, "options": [], "refresh": 1, "allValue": null, "datasource": "Tenant DB", "definition": "select tenantid from tenantdetails", "includeAll": false, "description": null, "skipUrlSync": false}, {"hide": 0, "name": "companyid", "sort": 3, "type": "query", "error": null, "label": null, "multi": false, "query": "select companyid from companydetails where tenantid in ($tenantid) and isrestricted=false and isdefault=false and ($isallcompanies = ''1'' or companyid in (select \\"companydetails_id\\" from companydetailsroles where roles_id=$roleid) or ($hasexcludeclients=''1'' and companyid in (select companyid from companydetails where companyid not in ($excludedclients) ))) and  ($hasmyclient = ''2''  or companyid::varchar in ($clientid)) and  isactive=true union select 0 union select companyid from companydetails where companyid in ($resclient)", "regex": "", "current": {"text": "All", "value": "$__all", "selected": false}, "options": [], "refresh": 1, "allValue": null, "datasource": "Beak DB", "definition": "select companyid from companydetails where tenantid in ($tenantid) and isrestricted=false and isdefault=false and ($isallcompanies = ''1'' or companyid in (select \\"companydetails_id\\" from companydetailsroles where roles_id=$roleid) or ($hasexcludeclients=''1'' and companyid in (select companyid from companydetails where companyid not in ($excludedclients) ))) and  ($hasmyclient = ''2''  or companyid::varchar in ($clientid)) and  isactive=true union select 0 union select companyid from companydetails where companyid in ($resclient)", "includeAll": true, "description": null, "skipUrlSync": false}, {"hide": 0, "name": "noassetsemployee", "sort": 0, "type": "query", "error": null, "label": null, "multi": false, "query": "{\\"find\\":\\"terms\\",\\"field\\":\\"externalid.keyword\\",\\"query\\":\\"companyid:$companyid && status:\\\\\\"Associated\\\\\\" && tenantid:$tenantid\\"}", "regex": "", "current": {"text": "All", "value": "$__all", "selected": false}, "options": [], "refresh": 1, "allValue": null, "datasource": "Beak - Employees", "definition": "{\\"find\\":\\"terms\\",\\"field\\":\\"externalid.keyword\\",\\"query\\":\\"companyid:$companyid && status:\\\\\\"Associated\\\\\\" && tenantid:$tenantid\\"}", "includeAll": true, "description": null, "skipUrlSync": false}, {"hide": 0, "name": "hasexcludeclients", "sort": 0, "type": "query", "error": null, "label": null, "multi": false, "query": "select  case when \\"has_excluded_companies\\"= true and  \\"isallcompanies\\"= false\\n  then ''1''\\n  else  ''0'' end   from roles where roleid = $roleid", "regex": "", "current": {"text": "0", "value": "0", "selected": false}, "options": [], "refresh": 1, "allValue": null, "datasource": "Beak DB", "definition": "select  case when \\"has_excluded_companies\\"= true and  \\"isallcompanies\\"= false\\n  then ''1''\\n  else  ''0'' end   from roles where roleid = $roleid", "includeAll": false, "description": null, "skipUrlSync": false}, {"hide": 0, "name": "excludedclients", "sort": 0, "type": "query", "error": null, "label": null, "multi": false, "query": "select  unnest(\\"excluded_companies\\") from roles where roleid=$roleid union select 0", "regex": "", "current": {"text": "All", "value": "$__all", "selected": true}, "options": [], "refresh": 1, "allValue": null, "datasource": "Beak DB", "definition": "select  unnest(\\"excluded_companies\\") from roles where roleid=$roleid union select 0", "includeAll": true, "description": null, "skipUrlSync": false}]}, "timepicker": {"hidden": true}, "annotations": {"list": [{"hide": true, "name": "Annotations & Alerts", "type": "dashboard", "enable": true, "target": {"tags": [], "type": "dashboard", "limit": 100, "matchAny": false}, "builtIn": 1, "iconColor": "rgba(0, 211, 255, 1)", "datasource": "-- Grafana --"}]}, "refreshTime": {}, "graphTooltip": 0, "schemaVersion": 30, "disableResetButton": true, "timepickerForDashboardFilter": {"hidden": true}}', 1);


